<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="description" content="CMPE280Sanjeevani : Chart based EHR data representation">
<meta name="keywords" content="CMPE280Sanjeevani, Sanjeevani, EHR data, CMPE 280, CMPE280, SJSU">
<meta name="author" content="Team Ciphers : Maithili Gole, Nishanth PrabhuSwamy, Sameer Ranade, Sowmya Prakash">

<head>
  <meta name="description" content="CMPE280Sanjeevani : Chart based EHR data representation">
  <meta name="keywords" content="CMPE280Sanjeevani, Sanjeevani, EHR data, CMPE 280, CMPE280, SJSU">
  <meta name="author" content="Team Ciphers : Maithili Gole, Nishanth PrabhuSwamy, Sameer Ranade, Sowmya Prakash">
    <title>Sanjeevani</title>

<script src="//d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript">
        function preloader() {
            document.getElementById("loading").style.display = "none";
            document.getElementById("content").style.display = "block";
        }//preloader
        window.onload = preloader;
    </script>
    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="/stylesheets/css/animate.css" rel="stylesheet" type="text/css">
    <link href="/stylesheets/css/style.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <link href="/stylesheets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Playball' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:300' rel='stylesheet' type='text/css'>
    <!-- IE8 support for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!--AngularJS Libraries-->

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js"></script>

    <script type="text/javascript" data-bablic="5733c6f443e0b3bf17b4c1ea" data-bablic-m="['1463011073','en','en',1,['hi'],0,0,0,0,0,0,0,0,[],'cmpe280sanjeevani.com',[],['_v',2]]" src="//cdn2.bablic.com/js/bablic.3.3.js"></script>
</head>

<body ng-app="ehrApp" ng-controller="PatientSummary" id="page-top" class="index" data-spy="scroll"
      data-target=".navbar-fixed-top">
<div id="loading"></div>

<div id="content">
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top navbar-shrink text-center">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--<a class="navbar-brand" href="#page-top">Clinix</a>-->
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="page-scroll">
                        <a href="#page-top"><i class="fa fa-home fa-lg"></i> Home</a>
                    </li>

                    <li class="page-scroll">
                        <a href="#about"><i class="fa fa-users fa-lg"></i> About Us</a>
                    </li>


                    <li class="page-scroll">
                        <a href="#services"><i class="fa fa-cogs fa-lg"></i> Services</a>
                    </li>


                    <li class="page-scroll">
                        <a href="/login"><i class="fa fa-sign-in"></i> Signin</a>
                    </li>

                    <li class="page-scroll">
                        <a href="#signup"><span class="glyphicon glyphicon-plus-sign"></span> Signup</a>
                    </li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    </div>
<div class="col-md-12">
    <div id="main">

        <!-- angular templating -->
        <!-- this is where content will be injected -->
        <p><h4 style=" margin: 100px 10px 10px 10px;text-align: center">Overall Patient diagnosis</h4></p>
        <div class="containerA " id="containerA" style="min-width: 410px; height: 500px; margin: 50px 40px 40px 40px;margin-left: 140px;"></div>
        <div ng-view>
        </div>
    </div>
</div>

</body>
<script>
    var json = {
        "name": "flare",
        "children": [
            {
                "name": "analytics",
                "children": [
                    {
                        "name": "heartdisease",
                        "children": [
                            {"name": "Rheumatic heart disease", "size": 5},
                            {"name": "Hypertensive heart disease", "size": 3},
                            {"name": "Heart attack", "size": 7},
                            {"name": "Congenital heart disease", "size": 2}
                        ]
                    },
                    {
                        "name": "Diabetics",
                        "children": [
                            {"name": "Type 1 diabetes", "size": 10},
                            {"name": "Type 2 diabetes", "size": 20},
                            {"name":"Gestational diabetes","size":7},
                            {"name":"Kidney Disease","size":7},
                            {"name":"HHS","size":2}
                        ]
                    },
                    {
                        "name": "Arthritis",
                        "children": [
                            {"name": "Arthritis", "size": 10},
                            {"name": "Osteoarthritis", "size": 20},
                            {"name":"Childhood Arthritis","size":7}
                        ]
                    },
                    {
                        "name": "Asthma",
                        "children": [
                            {"name": "Asthma", "size": 9}
                        ]
                    },
                    {
                        "name": "Cancer",
                        "children": [
                            {"name": "Cervical cancer", "size": 8},
                            {"name": "Liver cancer", "size": 3},
                            {"name":"Prostate cancer","size":2},
                            {"name": "Skin cancer", "size": 1},
                            {"name":"Breast cancer","size":7}

                        ]
                    },
                    {
                        "name": "flu",
                        "children": [
                            {"name": "Seasonal Influenza", "size": 3},
                            {"name": "Swine Influenza ", "size": 6},
                            {"name":"Pandemic Influenza","size":5}
                        ]
                    },
                    {
                        "name": "Water diseases",
                        "children": [
                            {"name": "Typhoid Fever", "size": 8},
                            {"name": "Pontiac Fever", "size": 3},
                            {"name":"Diarrhea ","size":5},
                            {"name": "Leptospirosis", "size": 1},
                            {"name": "Malaria", "size": 6},
                            {"name": "Hepatitis A ", "size": 6}

                        ]
                    },
                    {
                        "name": "Viral Hepatitis",
                        "children": [
                            {"name": "Hepatitis A", "size": 6},
                            {"name": "Hepatitis B", "size": 3},
                            {"name":"Hep C ","size":1},
                            {"name": "Hep D", "size": 1},
                            {"name": "Hep E", "size": 4}

                        ]
                    }

                ]
            }
        ]
    };

    var r = 960,
            format = d3.format(",d"),
            fill = d3.scale.category20c();

    var bubble = d3.layout.pack()
            .sort(null)
            .size([r, r])
            .padding(1.5);

    var vis = d3.select("#containerA").append("svg")
            .attr("width", r)
            .attr("height", r)
            .attr("class", "bubble");


    var node = vis.selectAll("g.node")
            .data(bubble.nodes(classes(json))
                    .filter(function(d) { return !d.children; }))
            .enter().append("g")
            .attr("class", "node")
            .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

    node.append("title")
            .text(function(d) { return d.className + ": " + format(d.value); });

    node.append("circle")
            .attr("r", function(d) { return d.r; })
            .style("fill", function(d) { return fill(d.packageName); });

    node.append("text")
            .attr("text-anchor", "middle")
            .attr("dy", ".3em")
            .text(function(d) { return d.className.substring(0, d.r / 3); });

    // Returns a flattened hierarchy containing all leaf nodes under the root.
    function classes(root) {
        var classes = [];

        function recurse(name, node) {
            if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });
            else classes.push({packageName: name, className: node.name, value: node.size});
        }

        recurse(null, root);
        return {children: classes};
    }
</script>
</html>
