<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="description" content="CMPE280Sanjeevani : Chart based EHR data representation">
<meta name="keywords" content="CMPE280Sanjeevani, Sanjeevani, EHR data, CMPE 280, CMPE280, SJSU">
<meta name="author" content="Team Ciphers : Maithili Gole, Nishanth PrabhuSwamy, Sameer Ranade, Sowmya Prakash">

<head>
  <meta name="description" content="CMPE280Sanjeevani : Chart based EHR data representation">
  <meta name="keywords" content="CMPE280Sanjeevani, Sanjeevani, EHR data, CMPE 280, CMPE280, SJSU">
  <meta name="author" content="Team Ciphers : Maithili Gole, Nishanth PrabhuSwamy, Sameer Ranade, Sowmya Prakash">
    <title>cmpe280sanjeevani</title>

    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="/stylesheets/css/animate.css" rel="stylesheet" type="text/css">
    <link href="/stylesheets/css/style.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <link href="/stylesheets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Playball' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- IE8 support for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!--AngularJS Libraries-->

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js"></script>

    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.2.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

    <script type="text/javascript" data-bablic="5733c6f443e0b3bf17b4c1ea" data-bablic-m="['1463011073','en','en',1,['hi'],0,0,0,0,0,0,0,0,[],'cmpe280sanjeevani.com',[],['_v',2]]" src="//cdn2.bablic.com/js/bablic.3.3.js"></script>

    <link rel="stylesheet" href="/stylesheets/css/patient_details.css" type="text/css">
    <script src="/javascripts/controllers/main.js"></script>
    <script src="/javascripts/controllers/patientDetail.js"></script>

    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->

    <script type="text/javascript" data-bablic="5733c6f443e0b3bf17b4c1ea" data-bablic-m="['1463011073','en','en',1,['hi'],0,0,0,0,0,0,0,0,[],'cmpe280sanjeevani.com',[],['_v',2]]" src="//cdn2.bablic.com/js/bablic.3.3.js"></script>
</head>
<body ng-controller="PatientDetail" class="index" data-spy="scroll" data-target=".navbar-fixed-top">

<nav class="navbar navbar-default navbar-fixed-top navbar-shrink text-center"
     style="font-family:Titillium Web,Helvetica Neue,sans-serif;">
    <div id="name" style="float: left;">
        <i class="fa fa-heartbeat" style="font-size:50px;color:Red; padding: 2px;"></i>
        <h1 style="color: white; margin-left: 15px;">CMPE 280 Sanjeevani</h1>

    </div>
    <div style="color: white; float: right; margin: 40px;">
        <a href="/" style="color: #ffffff; float: right;"><i class="glyphicon glyphicon-log-out"
                                                             style="color: #ffffff; float: right;"></i>Logout</a>        </div>
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!--<a class="navbar-brand" href="#page-top">Clinix</a>-->
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<br><br>

<div class="col-md-4 col-xs-12">
    <div class="nav-side-menu">
        <div class="brand"><a style="border-top: #ffffff;">Patient Details</a></div>
        <!--<i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>-->

        <div class="menu-list">

            <ul id="menu-content" class="menu-content collapse out">

                <li>
                    <a href="#">
                        <i class="fa fa-user fa-lg"></i> Name: Nishanth
                    </a>
                </li>

                <li>
                    <a href="#">
                        <i class="fa fa-user fa-lg"></i> Age: 25
                    </a>
                </li>

                <li>
                    <a href="#">
                        <i class="fa fa-user fa-lg"></i> Height: 5' 11"
                    </a>
                </li>

                <li>
                    <a href="#">
                        <i class="fa fa-user fa-lg"></i> Weight: 150 lbs
                    </a>
                </li>

                <li>
                    <a href="#">
                        <i class="fa fa-users fa-lg"></i> Phone: 669-888-6221
                    </a>
                </li>

                <li>
                    <a href="#">
                        <i class="fa fa-user fa-lg"></i> Address: Washington Square, San Jose
                    </a>
                </li>
            </ul>
        </div>
        <br><br/>
        <button type="button" class="btn btn-secondary"><a href="/plist">Return to Patients list</a></button>
    </div>
</div>
<br><br>

<div class="container">

    <div id="main">

            <!-- angular templating -->
            <!-- this is where content will be injected -->
            <div class="container dynamicTile" style="padding-left: 300px;">
                <div class="col-md-6" style="margin-left: 220px;">
                <div class="row">
                    <div class="col-sm-3 col-xs-3 col-md-3">
                        <div id="tile1" class="tile">
                            <div class="carousel slide" data-ride="carousel">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="item active">
                                        <img src="/images/bp.png" alt="BP Chart"
                                             class="img-responsive" onclick="displayBPChart()"/>
                                        <h6 style="text-align: justify;">
                                            Blood Pressure Chart
                                        </h6>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-3 col-xs-3 col-md-3">
                        <div id="tile2" class="tile">
                            <div class="carousel slide" data-ride="carousel">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="item active">
                                        <img src="/images/weight.png" onclick="displayBWeightChart()" alt="Weight Chart"
                                             class="img-responsive"/>
                                        <h6 style="text-align: justify;">
                                            Weight Chart
                                        </h6>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-3 col-xs-3 col-md-3">
                        <div id="tile3" class="tile">
                            <div class="carousel slide" data-ride="carousel">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="item active">
                                        <img src="/images/allergies.png" onclick="displayAllergyChart()" alt="Allergies"
                                             class="img-responsive"/>
                                        <h6 style="text-align: justify;">
                                            Allergies Chart
                                        </h6>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-3 col-xs-3 col-md-3">
                        <div id="tile4" class="tile">
                            <div class="carousel slide" data-ride="carousel">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="item active">
                                        <img src="/images/heartrate.png" onclick="displayHeartChart()" alt="Heart Rate"
                                             class="img-responsive"/>
                                        <h6 style="text-align: justify;">
                                            Live Heartrate
                                        </h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="row">
                <div id="container" style="min-width: 813px; height: 400px; margin-left: 300px; "></div>
            </div>
            <div class="row">
                <div id="container2" style="min-width: 813px; height: 400px; margin-left: 300px; display: none"></div>
            </div>
            <div class="row">
                <div id="container3" style="min-width: 813px; height: 400px; margin-left: 300px; display: none"></div>
            </div>
            <div class="row">
              <div id="container4" style="min-width: 813px; height: 400px; margin-left: 300px; display: none"></div>
            </div>
        </div>
    </div>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/highcharts-3d.js"></script>

<script type="text/javascript">

var temp = 1;
$(function () {
    $('#container4').highcharts({
   		 chart: {
                type: 'spline',
                animation: Highcharts.svg, // don't animate in old IE
                marginRight: 10,
            },
        title: {
                text: 'Live heart data for the User: Prabhu'
            },
       xAxis: {
                type: 'datetime',
                tickPixelInterval: 100
            },
         yAxis: {
                title: {
                    text: 'Value'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.series.name + '</b><br/>' +
                        Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                        Highcharts.numberFormat(this.y, 2);
                }
            },
            legend: {
                enabled: false
            },
            exporting: {
                enabled: false
            },
        series: [{
            data: [70,72,73,71,68,67,72,76,72]
        }]
    });


    // the button action
    var i = 0;
    setInterval(function(){
        var chart = $('#container4').highcharts();

        $.ajax({
            type: 'GET',
            url: 'http://ec2-54-153-12-179.us-west-1.compute.amazonaws.com:3001/heartrate/getCurrentHeartRate',
            success: function(data) {
                data = JSON.parse(data);
                chart.series[0].addPoint(Number(data.hr), true, true);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
                console.log("Ajax Error: "+textStatus);
            }
    	});

     }, 2000);
});

</script>


<script>
    $(function () {
        $('#container').highcharts({
            chart: {
                type: 'spline'
            },
            title: {
                text: 'Monthly Systolic and Diastolic Blood Pressure'
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Blood Pressure in mm HG'
                },
                labels: {
                    formatter: function () {
                        return this.value + '°';
                    }
                }
            },
            tooltip: {
                crosshairs: true,
                shared: true
            },
            plotOptions: {
                spline: {
                    marker: {
                        radius: 4,
                        lineColor: '#666666',
                        lineWidth: 1
                    }
                }
            },
            series: [{
                name: 'Systolic mm Hg (upper #)',
                marker: {
                    symbol: 'square'
                },
                data: [120, 118, 117, 115, 116, 117, 119, {
                    y: 118
                }, 116, 115, 114, 117]

            }, {
                name: 'Diastolic mm Hg (lower #)',
                marker: {
                    symbol: 'diamond'
                },
                data: [{
                    y: 75
                }, 74, 72, 79, 71, 76, 75, 73, 77, 78, 71, 79]
            }]
        });
    });
</script>
<script>
    $(function () {
        $('#container2').highcharts({
            chart: {
                type: 'spline'
            },
            title: {
                text: 'Monthly Body Wight'
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Body Weight in KG'
                },
                labels: {
                    formatter: function () {
                        return this.value + '°';
                    }
                }
            },
            tooltip: {
                crosshairs: true,
                shared: true
            },
            plotOptions: {
                spline: {
                    marker: {
                        radius: 4,
                        lineColor: '#666666',
                        lineWidth: 1
                    }
                }
            },
            series: [{
                name: 'Body Weight in KG',
                marker: {
                    symbol: 'square'
                },
                data: [75, 74.5, 75, 74, 74, 73, 73.5, {
                    y: 74
                }, 75, 74, 75, 75]
            }]
        });
    });
</script>
<script>
    $(function () {
        $('#container3').highcharts({
            chart: {
                type: 'column',
                options3d: {
                    enabled: true,
                    alpha: 10,
                    beta: 25,
                    depth: 70
                }
            },
            title: {
                text: 'Allergy Severity for the Patient'
            },
            subtitle: {
                text: ''
            },
            plotOptions: {
                column: {
                    depth: 25
                }
            },
            xAxis: {
                categories: Highcharts.getOptions().lang.shortMonths
            },
            yAxis: {
                title: {
                    text: null
                }
            },
            series: [{
                name: 'Allergy Severity',
                data: [null, null, null, 4, 3, 2, null, null, null, 1, null, null]
            }]
        });
    });
</script>

<script>
    function displayBPChart() {
        document.getElementById('container2').style.display = 'none';
        document.getElementById('container3').style.display = 'none';
        document.getElementById('container4').style.display = 'none';
        document.getElementById('container').style.display = 'block';
    }

    function displayBWeightChart(){
        document.getElementById('container').style.display = 'none';
        document.getElementById('container3').style.display = 'none';
        document.getElementById('container2').style.display = 'block';
        document.getElementById('container').style.display = 'none';
    }

    function  displayAllergyChart(){
        document.getElementById('container').style.display = 'none';
        document.getElementById('container2').style.display = 'none';
        document.getElementById('container4').style.display = 'none';
        document.getElementById('container3').style.display = 'block';
    }
    function  displayHeartChart(){
        document.getElementById('container').style.display = 'none';
        document.getElementById('container2').style.display = 'none';
        document.getElementById('container4').style.display = 'block';
        document.getElementById('container3').style.display = 'none';
    }
</script>
</body>
</html>
